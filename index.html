---
layout: default
title: Event driven BDD test framework for PHP!
peridot_version: ~1.0
type: index
---

<div class="row">
    <div class="col-md-4 bucket-col">
        <div class="bucket">
            <p class="bucket-icon">
                <i class="fa fa-leaf icon-natural"></i>
            </p>
            <h2>Natural</h2>
            <p>
                Testing with Peridot is natural. Write tests using the familiar <code>describe-it</code> syntax. Easily and clearly describe how your code should behave in a language that makes sense. See <a href="#getting-started">getting started</a>.
            </p>
        </div>
    </div>
    <div class="col-md-4 bucket-col">
        <div class="bucket">
            <p class="bucket-icon">
                <i class="fa fa-plug icon-extensible"></i>
            </p>
            <h2>Extensible</h2>
            <p>
                Peridot is event driven, so writing plugins or ad hoc extensions is <em>painless</em>. Peridot <a href="#event-reference">events</a> and <a href="#scopes">scopes</a> allow you to easily add test helpers, custom reporters, and plugins. WebDriver? Databases? Your framework of choice? No problem.
            </p>
        </div>
    </div>
    <div class="col-md-4 bucket-col">
        <div class="bucket">
            <p class="bucket-icon">
                <i class="fa fa-bolt icon-fast"></i>
            </p>
            <h2>Fast</h2>
            <p>
                Peridot is small and lightweight. Peridot suites load and run faster than similar PHPUnit, Behat, or phpspec suites. Have slow or bulky integration tests? No problem, Peridot can <a href="https://github.com/peridot-php/peridot-concurrency" target="__blank">run your tests concurrently</a>.
            </p>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-xs-12">
        <h2 id="installation">Installing Peridot</h2>
        <p>
            Peridot can be installed several ways:
        </p>
        <h3>Composer</h3>
{% highlight bash %}
# global composer install
$ composer global require peridot-php/peridot:{{ page.peridot_version }}

# ensure .composer/vendor/bin is on your PATH
$ export PATH="$PATH:$HOME/.composer/vendor/bin"

# local per project install (recommended)
$ composer require peridot-php/peridot:~1.0
{% endhighlight %}

        <h3>Manual install</h3>

{% highlight bash %}
# download the latest phar
$ sudo wget http://peridot-php.github.io/downloads/peridot.phar -O /usr/local/bin/peridot

# or if you prefer curl
$ sudo curl http://peridot-php.github.io/downloads/peridot.phar -o /usr/local/bin/peridot

# make it executable
$ sudo chmod a+x /usr/local/bin/peridot
{% endhighlight %}

        <h3>Manual (local)</h3>
        <p>
            <a class="btn btn-success" id="downloadLink" href="http://peridot-php.github.io/downloads/peridot.phar">Download Latest Stable Phar</a>
        </p>

        <h2 id="getting-started">Getting Started</h2>

        <p>
            Peridot uses the familiar <code>describe-it</code> syntax to create a clear and readable testing language.
        </p>

{% highlight php %}
<?php //arrayobject.spec.php
describe('ArrayObject', function() {
    beforeEach(function() {
        $this->arrayObject = new ArrayObject(['one', 'two', 'three']);
    });

    describe('->count()', function() {
        it("should return the number of items", function() {
            $count = $this->arrayObject->count();
            assert($count === 3, "expected 3");
        });
    });
});
?>

$ peridot arrayobject.spec.php

  ArrayObject
    ->count()
      âœ“ should return the number of items


  1 passing (19 ms)

{% endhighlight %}

        <h2 id="peridot-cli"><code class="code">peridot</code></h2>

<pre>
Usage:
 peridot [options] [files]

Options:
 --grep (-g)          Run tests matching &lt;pattern&gt; (default: *.spec.php)
 --no-colors (-C)     Disable output colors
 --reporter (-r)      Select which reporter to use (default: spec)
 --bail (-b)          Stop on failure
 --configuration (-c) A php file containing peridot configuration
 --reporters          List all available reporters
 --version (-V)       Display the Peridot version number
 --help (-h)          Display this help message.
</pre>

        <h3>-g, --grep</h3>
        <p>
            Only run test files whose name matches the provided pattern. The default grep pattern is <code>*.spec.php</code>
        </p>

        <h3>-C, --no-colors</h3>
        <p>
            Disable colors in output.
        </p>

        <h3>-r, --reporter</h3>
        <p>
            Select which reporter to use. This is the reporter name registered via <a target="_blank" href="http://peridot-php.github.io/docs/class-Peridot.Reporter.ReporterFactory.html">ReporterFactory::register</a>.
        </p>

        <h3>-b, --bail</h3>
        <p>
            Tell peridot to stop running tests as soon as there is a failure.
        </p>

        <h3>-c, --configuration</h3>
        <p>
            A path to a peridot configuration file. Defaults to <code>getcwd() . '/peridot.php'</code>
        </p>

        <h3>--reporters</h3>
        <p>
            List available test reporters.
        </p>

        <h2 id="examples">Example Test Suites</h2>

        <p>
            Below are examples of real projects in the wild using Peridot.
        </p>

        <ul style="margin-bottom:15px;">
            <li>
                <a href="https://github.com/peridot-php/peridot" target="_blank">Peridot</a>
	       </li>
	      <li>
	        <a href="https://github.com/peridot-php/leo" target="_blank">Leo</a>
	      </li>
          <li>
            <a href="https://github.com/peridot-php/peridot-concurrency" target="_blank">Peridot Concurrency Plugin</a>
          </li>
        </ul>

        If you have a project that uses Peridot, we would love to know. Feel free to <a href="mailto:bscaturro@gmail.com?Subject=We%20use%20Peridot">message us</a> and let us know, and we will
        gladly list your project on the site.

        <h2 id="peridot-tests">Running Peridot's tests</h2>

        <p>
            Peridot's tests were written using Peridot. After cloning Peridot, you can run tests using:
        </p>

{% highlight bash %}
$ bin/peridot specs/
{% endhighlight %}
    </div>
</div>
